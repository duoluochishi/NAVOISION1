<UserControl
	x:Class="NV.CT.NanoConsole.View.English.TableControl"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:local="clr-namespace:NV.CT.NanoConsole.View.English"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:res="clr-namespace:NV.CT.Language;assembly=NV.CT.Language"
	xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
	d:DesignHeight="40"
	d:DesignWidth="320"
	FontSize="14" 
	mc:Ignorable="d">
	<UserControl.Resources>
		<BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"></BooleanToVisibilityConverter>
		<Style x:Key="TableIsoStyle" TargetType="materialDesign:PackIcon">
			<Setter Property="Foreground" Value="{StaticResource TableIsoNormalColor}" />
			<Style.Triggers>
				<DataTrigger
					Binding="{Binding IsXInIsoCenter}"
					Value="true">
					<Setter Property="Foreground" Value="{StaticResource TableIsoNormalColor}" />
					<!--<Setter Property="ToolTip" Value="X-axis is correct"></Setter>
					<Setter Property="Visibility" Value="Collapsed"></Setter>-->
				</DataTrigger>
				<DataTrigger
					Binding="{Binding IsXInIsoCenter}"
					Value="false">
					<Setter Property="Foreground" Value="{StaticResource TableIsoErrorColor}" />
					<!--<Setter Property="ToolTip" Value="X-axis direction isn't in ISO center"></Setter>
					<Setter Property="Visibility" Value="Visible"></Setter>-->
				</DataTrigger>
			</Style.Triggers>
		</Style>
		<Style x:Key="GridStyle" TargetType="Grid">
			<Setter Property="ToolTip" Value=""></Setter>
			<Style.Triggers>
				<DataTrigger
					Binding="{Binding IsXInIsoCenter}"
					Value="true">
					<Setter Property="ToolTip" Value="X-axis is correct"></Setter>
					<Setter Property="Visibility" Value="Collapsed"></Setter>
				</DataTrigger>
				<DataTrigger
					Binding="{Binding IsXInIsoCenter}"
					Value="false">
					<Setter Property="ToolTip" Value="X-axis direction isn't in ISO center"></Setter>
					<Setter Property="Visibility" Value="Visible"></Setter>
				</DataTrigger>
			</Style.Triggers>
		</Style>
	</UserControl.Resources>

	<Grid HorizontalAlignment="Left">
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="120" />
			<ColumnDefinition Width="10" />
			<ColumnDefinition Width="110" />
			<ColumnDefinition Width="170" />
		</Grid.ColumnDefinitions>
		<Grid
			Grid.Column="0"
			Margin="0,0,0,0">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="30" />
				<ColumnDefinition Width="*" />
			</Grid.ColumnDefinitions>
			<Grid
				Grid.Column="0"
				HorizontalAlignment="Center">
				<Path
					Width="20"
					Height="20"
					Data="{StaticResource TableHorizontal}"
					Fill="White"
					Opacity="1"
					Stretch="Fill" />
			</Grid>
			<TextBlock
				Grid.Column="1"
				Margin="5,0,5,0"
				VerticalAlignment="Center"
				FontFamily="Microsoft YaHei"
				HorizontalAlignment="Right"
				Foreground="White"
				Text="{Binding HorizontalPosition, StringFormat={}{0:F1} mm}" />
		</Grid>
		<Grid
			Grid.Column="2">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="30" />
				<ColumnDefinition Width="*" />
			</Grid.ColumnDefinitions>
			<Grid
				Grid.Column="0"
				HorizontalAlignment="Center">
				<Path
					Width="20"
					Height="20"
					Data="{StaticResource TableVertical}"
					Fill="White"
					Opacity="1"
					Stretch="Fill" />
			</Grid>
			<TextBlock
				Grid.Column="1"
				Margin="5,0,5,0"
				VerticalAlignment="Center"
				FontFamily="Microsoft YaHei"
				Foreground="White"
				HorizontalAlignment="Right"
				Text="{Binding VerticalPosition, StringFormat={}{0:F1} mm}"
				Visibility="{Binding VerticalPositionLabelVisible}" />
		</Grid>
		<Grid Grid.Column="3">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="*"></ColumnDefinition>
				<ColumnDefinition Width="*"></ColumnDefinition>
				<ColumnDefinition Width="70"></ColumnDefinition>
			</Grid.ColumnDefinitions>
			<Grid
				Grid.Column="0"
				Width="25"
				Margin="5,0,5,0">
				<Image
					Width="18"
					Height="18"
					Cursor="Hand"
					Source="pack://application:,,,/NV.CT.UI.Controls;component/Icons/Custom.png"
					ToolTipService.InitialShowDelay="0"
					ToolTip="{x:Static res:LanguageResource.ToolTip_MoveTable}">
					<Image.InputBindings>
						<MouseBinding
							Command="{Binding Commands[ShowTableMoveDialogCommand]}"
							MouseAction="LeftClick" />
					</Image.InputBindings>
				</Image>
			</Grid>

			<!--svg效果不好 , 还是用上面的图片-->

			<!--<TextBlock
				Grid.Column="3"
				Width="25"
				Height="25"
				ToolTip="{x:Static res:LanguageResource.ToolTip_MoveTable}"
				Margin="10,0,0,0"
				Visibility="Visible">
				<Path
					Width="20"
					Height="20"
					Data="{StaticResource ModifyIcon}"
					Fill="White"
					Stretch="Fill">
					<Path.InputBindings>
						<MouseBinding
							Command="{Binding Commands[ShowTableMoveDialogCommand]}"
							MouseAction="LeftClick" />
					</Path.InputBindings>
				</Path>
			</TextBlock>-->
			<Grid
				Grid.Column="1" x:Name="GridIsoCenter" ToolTipService.InitialShowDelay="0"
				Width="25" Cursor="Hand" Style="{StaticResource GridStyle}"
				Margin="0,0,5,0">
				<materialDesign:PackIcon Width="20" Height="20" Kind="AxisYArrow" VerticalAlignment="Center" HorizontalAlignment="Center" Style="{StaticResource TableIsoStyle}">
					<materialDesign:PackIcon.InputBindings>
						<MouseBinding
							Command="{Binding Commands[ResetXToCenter]}"
							MouseAction="LeftClick" />
					</materialDesign:PackIcon.InputBindings>
				</materialDesign:PackIcon>
				</Grid>

			<TextBlock  Visibility="{Binding IsDevelopment,Converter={StaticResource BooleanToVisibilityConverter}}" Cursor="Hand" Grid.Column="2" VerticalAlignment="Center" Text="toggle" Foreground="{StaticResource DebugColor}">
				<TextBlock.InputBindings>
					<MouseBinding
						Command="{Binding Commands[Simulate]}"
						MouseAction="LeftClick" />
				</TextBlock.InputBindings>
			</TextBlock>
		</Grid>
	</Grid>
</UserControl>
