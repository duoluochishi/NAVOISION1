<UserControl
    x:Class="NV.CT.Service.HardwareTest.UserControls.Components.Detector.UpdateDetectorBoardSeriesNumberView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="clr-namespace:NV.CT.Service.HardwareTest.Attachments.Converters"
    xmlns:helpers="clr-namespace:NV.CT.Service.HardwareTest.Attachments.Helpers"
    xmlns:mk="clr-namespace:MaterialDesignThemes.Wpf.Controls.MarkableTextBox;assembly=MaterialDesignThemes.Wpf">

    <Grid>

        <Grid.Resources>

            <converters:StringEmptyToVisibilityConverter x:Key="StringEmptyToVisibilityConverter" />

            <Style
                BasedOn="{StaticResource NanoButtonStyle}"
                TargetType="{x:Type Button}">
                <Setter Property="Width" Value="100" />
                <Setter Property="Margin" Value="5,0" />
            </Style>

            <Style
                BasedOn="{StaticResource NanoTextBlockStyle}"
                TargetType="{x:Type TextBlock}">
                <Setter Property="VerticalAlignment" Value="Center" />
                <Setter Property="Margin" Value="2,0" />
            </Style>

        </Grid.Resources>

        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="auto" />
            <RowDefinition />
        </Grid.RowDefinitions>

        <StackPanel
            Grid.Row="0"
            HorizontalAlignment="Center"
            Orientation="Horizontal">

            <TextBlock Text="{Binding UpdateDetectorInfo}" />

            <mk:MarkableTextBox
                Width="86"
                MaxLength="8"
                Text="{Binding FirstPartOfSeriesNumber, Mode=TwoWay}" />

            <TextBlock Text="#" />

            <mk:MarkableTextBox
                Width="38"
                MaxLength="2"
                Text="{Binding SecondPartOfSeriesNumber, Mode=TwoWay}" />

            <TextBlock Text="#" />

            <ComboBox
                Width="65"
                helpers:EnumItemSourceHelper.EnumValuesToItemsSourceProperty="True"
                SelectedItem="{Binding ThirdPartOfSeriesNumber, Mode=TwoWay}" />

            <TextBlock Text="#" />

            <ComboBox
                Width="80"
                helpers:EnumItemSourceHelper.EnumValuesToItemsSourceProperty="True"
                SelectedItem="{Binding ForthPartOfSeriesNumber, Mode=TwoWay}" />

            <TextBlock Text="#" />

            <mk:MarkableTextBox
                Width="86"
                MaxLength="8"
                Text="{Binding FifthPartOfSeriesNumber, Mode=TwoWay}" />

            <TextBlock Text="#" />

            <mk:MarkableTextBox
                Width="53"
                MaxLength="4"
                Text="{Binding SixthPartOfSeriesNumber, Mode=TwoWay}" />

        </StackPanel>

        <TextBlock
            Grid.Row="1"
            HorizontalAlignment="Center"
            FontSize="12"
            Foreground="Red"
            Text="{Binding ErrorMessage, Mode=TwoWay, StringFormat=[Error Message] : {0}}"
            Visibility="{Binding ErrorMessage, Mode=OneWay, Converter={StaticResource StringEmptyToVisibilityConverter}}" />

        <StackPanel
            Grid.Row="2"
            HorizontalAlignment="Center"
            Orientation="Horizontal">

            <Button
                Command="{Binding UpdateCommand}"
                Content="Update" />
            <Button
                Command="{Binding CancelCommand}"
                Content="Cancel" />

        </StackPanel>

    </Grid>

</UserControl>
