<UserControl
    x:Class="NV.CT.UI.Exam.DynamicParameters.Parameters.Recon.PostProcessGroup"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"   
    xmlns:markableComboBox="clr-namespace:MaterialDesignThemes.Wpf.Controls.MarkableComboBox;assembly=MaterialDesignThemes.Wpf"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"   
    xmlns:res="clr-namespace:NV.CT.Language;assembly=NV.CT.Language"
    d:DesignHeight="304"
    mc:Ignorable="d">
    <UserControl.Resources>
        <!-- post process -->
        <Style x:Key="StackPanelGrid" TargetType="{x:Type Grid}">
            <Setter Property="Width" Value="400" />
            <Setter Property="Margin" Value="0,0,0,0" />
        </Style>
        <Style x:Key="ButtonStyle" TargetType="materialDesign:PackIcon">
            <Setter Property="Width" Value="25" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Height" Value="25" />
            <Setter Property="Foreground" Value="#90EE90" />
        </Style>
        <Style
            x:Key="SettingButtonStyle"
            BasedOn="{StaticResource MaterialDesignRaisedButton}"
            TargetType="{x:Type Button}">
            <Setter Property="FontSize" Value="15px" />
            <Setter Property="Foreground" Value="{StaticResource BaseForegroundColor}" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="Background" Value="{StaticResource ButtonMainBackground}" />
            <Setter Property="Height" Value="40" />
            <Style.Triggers>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Background" Value="#5a5a89" />
                </Trigger>
                <Trigger Property="IsEnabled" Value="True">
                    <Setter Property="Background" Value="#1665D8" />
                </Trigger>
                <Trigger Property="Tag" Value="{StaticResource TrueValue}">
                    <Setter Property="Visibility" Value="Visible" />
                </Trigger>
                <Trigger Property="Tag" Value="{StaticResource FalseValue}">
                    <Setter Property="Visibility" Value="Collapsed" />
                </Trigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>
    <StackPanel Orientation="Vertical">
        <Grid HorizontalAlignment="Left" Margin="0 10 0 0">
            <Button Content="{x:Static res:LanguageResource.Content_PostProcessSetting}"
             Style="{StaticResource SettingButtonStyle}"
             Width="200"
             Height="40"
             IsEnabled="{Binding Path=ReconPageEnable}"
             Command="{Binding Commands[ShowPostProcessSettingWindow]}"
             CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"/>
        </Grid>
        <Grid VerticalAlignment="Center" Margin="0 10 0 5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="150" />
            </Grid.ColumnDefinitions>
            <Label Grid.Column="1" Content="{x:Static res:LanguageResource.Content_PostProcessList}" />
        </Grid>
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <Grid HorizontalAlignment="Left" Style="{StaticResource StackPanelGrid}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="190" />
                </Grid.RowDefinitions>
                <DataGrid x:Name="postProcessList" Height="Auto" ItemsSource="{Binding ConfirmedPostProcessItems}" AutoGenerateColumns="False" CanUserAddRows="False" SelectionUnit="FullRow" Grid.RowSpan="4">
                    <DataGrid.Columns>
                        <!--  method  -->
                        <DataGridTemplateColumn Width="220" Header="{x:Static res:LanguageResource.Content_Method}">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Key}" HorizontalAlignment="Left"
                                    Style="{StaticResource DataGridContentTextBlock}" />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <!--  parameters  -->
                        <DataGridTemplateColumn Width="180" Header="{x:Static res:LanguageResource.Content_Parameters}">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Value}" Style="{StaticResource DataGridContentTextBlock}"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                </DataGrid>
                <Border BorderBrush="#5A5A89" BorderThickness="1.4" CornerRadius="10" Opacity="1" Margin="0,0,0,0" Grid.RowSpan="4"/>
            </Grid>
        </ScrollViewer>
    </StackPanel>
</UserControl>