  <Window x:Class="NV.CT.PatientManagement.View.English.CorrectWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:NV.CT.PatientManagement.View.English"
        xmlns:wpf="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:md="clr-namespace:MaterialDesignThemes.Wpf.Controls.MarkableTextBox;assembly=MaterialDesignThemes.Wpf"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:res="clr-namespace:NV.CT.Language;assembly=NV.CT.Language" 
        xmlns:converter="clr-namespace:NV.CT.UI.Controls.Converter;assembly=NV.CT.UI.Controls"
        mc:Ignorable="d"
        Title="CorrectWindow"
        Width="1020"
        Height="870"
        Background="Transparent"
        ResizeMode="NoResize"
        AllowsTransparency="True"
        WindowStyle="None">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"></BooleanToVisibilityConverter>
        <converter:CorrectionOriginalRecordConverter x:Key="OriginalRecordConverter" ></converter:CorrectionOriginalRecordConverter>
    </Window.Resources>
    <Border CornerRadius="10" Style="{StaticResource WindowsBorder}">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="20" />
                <ColumnDefinition />
                <ColumnDefinition Width="20" />
                <ColumnDefinition />
                <ColumnDefinition Width="20" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="40" />
                <RowDefinition Height="840"/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Border Grid.ColumnSpan="5" Background="#5A5A89" CornerRadius="10,10,0,0" Opacity="0.3" />
            <Grid Grid.Row="0" Grid.ColumnSpan="5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="40" />
                    <ColumnDefinition Width="30" />
                    <ColumnDefinition Width="80" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Button Margin="10,5,0,4"
                    HorizontalAlignment="Left" VerticalAlignment="Center" Background="Transparent" BorderThickness="0" Cursor="Hand" Opacity="0.7">
                    <Path Style="{StaticResource Correct}"
                          Width="15" Height="15" Fill="{StaticResource TextBoxBrush}" Stretch="Fill"/>
                </Button>
                <TextBlock Name="txtCaption" Grid.Column="1" Grid.ColumnSpan="2" Text="{x:Static res:LanguageResource.Content_Correct}"
                           Width="430" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                <Button Grid.Column="3" Style="{StaticResource TileCloseButtonStyle}" ToolTip="{x:Static res:LanguageResource.Content_Close}"
                        Command="{Binding  Commands[CloseCommand]}" 
                        CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}">
                    <Path Style="{StaticResource TileClosePathStyle}" />
                </Button>
            </Grid>
            <Grid Grid.Row="1" Grid.ColumnSpan="5">
                <Grid.RowDefinitions>
                    <RowDefinition Height="10"/> <!--space-->
                    <RowDefinition Height="26"/>
                    <RowDefinition Height="60"/> <!--row:2-->
                    <RowDefinition Height="60"/>
                    <RowDefinition Height="120"/> <!--row:4-->
                    <RowDefinition Height="60"/>  <!--row:5-->
                    <RowDefinition Height="60"/> <!--row:6-->
                    <RowDefinition Height="60"/>
                    <RowDefinition Height="60"/>
                    <RowDefinition Height="70"/> <!--row:9-->
                    <RowDefinition Height="26"/> <!--row:10-->
                    <RowDefinition Height="220"/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <Grid Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    <TextBlock x:Name="lblModify" Grid.Row="0" Margin="10,0,0,0" Text="{x:Static res:LanguageResource.Content_Modify}"
                               HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="14" Style="{StaticResource SectionTitleTextBlock}" />
                    <Rectangle Width="{Binding ElementName=lblModify,Path=ActualWidth}"
                               Style="{StaticResource SectionTitleUnderlineRectangle}" Margin="10,0,0,0"/>
                </Grid>
                <Grid Grid.Row="2" Margin="10,0,10,0" IsEnabled="{Binding IsEditable, Mode=TwoWay}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="120"></ColumnDefinition>
                        <ColumnDefinition Width="300"></ColumnDefinition>
                        <ColumnDefinition Width="120"></ColumnDefinition> <!-- split empty column -->
                        <ColumnDefinition Width="150"></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <WrapPanel Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Center">
                        <TextBlock Style="{StaticResource MandatoryInputTextBlock}"/>
                        <TextBlock Text="{x:Static res:LanguageResource.Content_PatientId}" Margin="1,0,0,0"
                                   Style="{StaticResource MandatoryInputLabelTextBlock}" />
                    </WrapPanel>
                    <md:MarkableTextBox Grid.Column="1" Uid="txtPatientId" MaxLength="64" VerticalContentAlignment="Center" Style="{StaticResource WithValidationMarkableTextBox}">
                        <TextBox.Text>
                            <Binding Path="EditableStudyModel.PatientId" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
                        </TextBox.Text>
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="PreviewMouseUp">
                                <i:InvokeCommandAction Command="{Binding Commands[ClickPatientIdCommand]}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </md:MarkableTextBox>
                    <WrapPanel Grid.Column="3" HorizontalAlignment="Left" VerticalAlignment="Center">
                        <TextBlock Text="{x:Static res:LanguageResource.Content_AccessionNo}" Margin="1,0,0,0"
                                   Style="{StaticResource InputLabelTextBlock}" />
                    </WrapPanel>
                    <md:MarkableTextBox Grid.Column="4" Uid="txtAccessionNo" MaxLength="32" VerticalContentAlignment="Center" HorizontalAlignment="Left" Width="300"
                                        Style="{StaticResource WithValidationMarkableTextBox}">
                        <TextBox.Text>
                            <Binding Path="EditableStudyModel.AccessionNo" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
                        </TextBox.Text>
                    </md:MarkableTextBox>
                </Grid>
                <Grid Grid.Row="3" Margin="10,0,10,0" IsEnabled="{Binding IsEditable, Mode=TwoWay}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="120"></ColumnDefinition>
                        <ColumnDefinition Width="300"></ColumnDefinition>
                        <ColumnDefinition Width="120"></ColumnDefinition> <!-- split empty column -->
                        <ColumnDefinition Width="150"></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <WrapPanel Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Center">
                        <TextBlock Style="{StaticResource MandatoryInputTextBlock}"/>
                        <TextBlock Text="{x:Static res:LanguageResource.Content_LastName}" Margin="1,0,0,0"
                                   Style="{StaticResource MandatoryInputLabelTextBlock}" />
                    </WrapPanel>
                    <md:MarkableTextBox Grid.Column="1" Uid="txtLastName" MaxLength="20" VerticalContentAlignment="Center" Style="{StaticResource WithValidationMarkableTextBox}">
                        <TextBox.Text>
                            <Binding Path="EditableStudyModel.LastName" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
                        </TextBox.Text>
                    </md:MarkableTextBox>
                    <WrapPanel Grid.Column="3" HorizontalAlignment="Left" VerticalAlignment="Center">
                        <TextBlock Text="{x:Static res:LanguageResource.Content_ReferringPhysician}" Margin="1,0,0,0" Style="{StaticResource InputLabelTextBlock}" />
                    </WrapPanel>
                    <md:MarkableTextBox Grid.Column="4" Uid="txtWard" MaxLength="32" VerticalContentAlignment="Center" HorizontalAlignment="Left" Width="300"
                                        Style="{StaticResource WithValidationMarkableTextBox}">
                        <TextBox.Text>
                            <Binding Path="EditableStudyModel.ReferringPhysician" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
                        </TextBox.Text>
                    </md:MarkableTextBox>
                </Grid>  
                <Grid Grid.Row="4" Margin="10,0,10,0" IsEnabled="{Binding IsEditable, Mode=TwoWay}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="60"/>
                        <RowDefinition Height="60"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="120"></ColumnDefinition>
                        <ColumnDefinition Width="300"></ColumnDefinition>
                        <ColumnDefinition Width="120"></ColumnDefinition> <!-- split empty column -->
                        <ColumnDefinition Width="150"></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <WrapPanel Grid.Row="0" Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Center">
                        <TextBlock Text="{x:Static res:LanguageResource.Content_FirstName}" Margin="1,0,0,0"  Style="{StaticResource InputLabelTextBlock}" />
                    </WrapPanel>
                    <md:MarkableTextBox Grid.Row="0" Grid.Column="1" Uid="txtFirstName" MaxLength="20" VerticalContentAlignment="Center" Style="{StaticResource WithValidationMarkableTextBox}">
                        <TextBox.Text>
                            <Binding Path="EditableStudyModel.FirstName" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
                        </TextBox.Text>
                    </md:MarkableTextBox>
                    <WrapPanel Grid.Row="0" Grid.Column="3" HorizontalAlignment="Left" VerticalAlignment="Center">
                        <TextBlock Text="{x:Static res:LanguageResource.Content_StudyDescription}" Margin="1,0,0,0" Style="{StaticResource InputLabelTextBlock}" />
                    </WrapPanel>
                    <md:MarkableTextBox Grid.Row="0" Grid.RowSpan="1" Grid.Column="4" MaxLength="20" Width="300" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,12,0,0"
                                        Style="{StaticResource WithValidationMarkableTextBox}">
                        <TextBox.Text>
                            <Binding Path="EditableStudyModel.StudyDescription" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
                        </TextBox.Text>
                    </md:MarkableTextBox>
                    <WrapPanel Grid.Row="1" Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Center">
                        <TextBlock Style="{StaticResource MandatoryInputTextBlock}"/>
                        <TextBlock Text="{x:Static res:LanguageResource.Content_DateOfBirth}" Margin="1,0,0,0"
                                  Style="{StaticResource MandatoryInputLabelTextBlock}" />
                    </WrapPanel>
                    <DatePicker Grid.Row="1" Grid.Column="1" Uid="dpBirthDate" x:Name="dtpDateofBirth" VerticalContentAlignment="Center" Style="{StaticResource MaterialDesignOutlinedDatePicker}">
                        <DatePicker.SelectedDate>
                            <Binding Path="EditableStudyModel.Birthday" ValidatesOnDataErrors="True" />
                        </DatePicker.SelectedDate>
                    </DatePicker>                    
                </Grid>
                <Grid Grid.Row="5" Margin="10,0,10,0" IsEnabled="{Binding IsEditable, Mode=TwoWay}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="120"></ColumnDefinition>
                        <ColumnDefinition Width="300"></ColumnDefinition>
                        <ColumnDefinition Width="120"></ColumnDefinition>  <!-- split empty column -->
                        <ColumnDefinition Width="150"></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <WrapPanel Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Center">
                        <TextBlock Style="{StaticResource MandatoryInputTextBlock}"/>
                        <TextBlock Text="{x:Static res:LanguageResource.Content_Age}" Margin="1,0,0,0" Style="{StaticResource MandatoryInputLabelTextBlock}" />
                    </WrapPanel>
                    <WrapPanel Grid.Column="1" HorizontalAlignment="Stretch" VerticalAlignment="Center">
                        <md:MarkableTextBox  Uid="txtAge" MaxLength="3" Width="150" HorizontalAlignment="Left" VerticalContentAlignment="Center" Style="{StaticResource WithValidationMarkableTextBox}">
                            <TextBox.Text>
                                <Binding Path="EditableStudyModel.Age" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
                            </TextBox.Text>
                        </md:MarkableTextBox>
                        <ComboBox Uid="cbAgeType" x:Name="cbbAgeType" ItemsSource="{Binding AgeTypes, Mode=TwoWay}" Width="120" SelectedValue="{Binding EditableStudyModel.AgeType, Mode=TwoWay}" 
                                  Style="{StaticResource MaterialDesignOutlinedComboBox}" Margin="5,0,0,0"/>
                    </WrapPanel>
                </Grid>
                <Grid Grid.Row="6" Margin="10,0,10,0" IsEnabled="{Binding IsEditable, Mode=TwoWay}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="120"></ColumnDefinition>
                        <ColumnDefinition Width="300"></ColumnDefinition>
                        <ColumnDefinition Width="120"></ColumnDefinition>
                        <!-- split empty column -->
                        <ColumnDefinition Width="150"></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <WrapPanel Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Center">
                        <TextBlock Style="{StaticResource MandatoryInputTextBlock}"/>
                        <TextBlock Text="{x:Static res:LanguageResource.Content_Sex}" Margin="1,0,0,0" Style="{StaticResource MandatoryInputLabelTextBlock}" />
                    </WrapPanel>
                    <ComboBox Grid.Column="1" Uid="cbbGender" Name="cbbGender"  ItemsSource="{Binding Genders}" VerticalContentAlignment="Center"
                              Style="{StaticResource MaterialDesignOutlinedComboBox}" SelectedValuePath="Key" DisplayMemberPath="Value">
                        <ComboBox.SelectedValue>
                            <Binding Path="EditableStudyModel.Gender" />
                        </ComboBox.SelectedValue>
                    </ComboBox>

                </Grid>
                <Grid Grid.Row="7" Margin="10,0,10,0" IsEnabled="{Binding IsEditable, Mode=TwoWay}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="120"></ColumnDefinition>
                        <ColumnDefinition Width="300"></ColumnDefinition>
                        <ColumnDefinition Width="120"></ColumnDefinition> <!-- split empty column -->
                        <ColumnDefinition Width="150"></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <WrapPanel Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Center">
                        <TextBlock Text="{x:Static res:LanguageResource.Content_Height}" Margin="1,0,0,0" Style="{StaticResource InputLabelTextBlock}" />
                    </WrapPanel>
                    <WrapPanel Grid.Column="1" HorizontalAlignment="Stretch" VerticalAlignment="Center">
                        <md:MarkableTextBox Uid="txtHeight" MaxLength="3" Width="150" HorizontalAlignment="Left" VerticalContentAlignment="Center" Style="{StaticResource WithValidationMarkableTextBox}">
                            <TextBox.Text>
                                <Binding Path="EditableStudyModel.Height" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
                            </TextBox.Text>
                        </md:MarkableTextBox>
                        <TextBlock Text="{x:Static res:LanguageResource.Content_CM}" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="4,0,0,0"/>
                    </WrapPanel>
                </Grid>
                <Grid Grid.Row="8" Margin="10,0,10,0" IsEnabled="{Binding IsEditable, Mode=TwoWay}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="120"></ColumnDefinition>
                        <ColumnDefinition Width="300"></ColumnDefinition>
                        <ColumnDefinition Width="120"></ColumnDefinition> <!-- split empty column -->
                        <ColumnDefinition Width="150"></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <WrapPanel Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Center">
                        <TextBlock Text="{x:Static res:LanguageResource.Content_Weight}" Margin="1,0,0,0" Style="{StaticResource InputLabelTextBlock}" />
                    </WrapPanel>
                    <WrapPanel Grid.Column="1" HorizontalAlignment="Stretch" VerticalAlignment="Center">
                        <md:MarkableTextBox Uid="txtWeight" MaxLength="3" Width="150" HorizontalAlignment="Left" VerticalContentAlignment="Center" Style="{StaticResource WithValidationMarkableTextBox}">
                            <TextBox.Text>
                                <Binding Path="EditableStudyModel.Weight" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
                            </TextBox.Text>
                        </md:MarkableTextBox>
                        <TextBlock Text="{x:Static res:LanguageResource.Content_KG}" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="4,0,0,0"/>
                    </WrapPanel>
                    <WrapPanel Grid.Column="3" HorizontalAlignment="Left" VerticalAlignment="Center">
                        <TextBlock Style="{StaticResource MandatoryInputTextBlock}"/>
                        <TextBlock Text="{x:Static res:LanguageResource.Content_Editor}" Margin="1,0,0,0" Style="{StaticResource MandatoryInputLabelTextBlock}" />
                    </WrapPanel>
                    <md:MarkableTextBox Grid.Column="4" Uid="txtEditor" MaxLength="20" VerticalContentAlignment="Center" HorizontalAlignment="Left" Width="300"
                                        Style="{StaticResource WithValidationMarkableTextBox}">
                        <TextBox.Text>
                            <Binding Path="EditableStudyModel.Editor" UpdateSourceTrigger="PropertyChanged" ValidatesOnDataErrors="True"/>
                        </TextBox.Text>
                    </md:MarkableTextBox>
                </Grid>
                <Grid Grid.Row="9" Margin="10,0,10,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="590"></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <WrapPanel Grid.Column="0" Grid.ColumnSpan="2" HorizontalAlignment="Right" VerticalAlignment="Center">
                        <TextBlock Text="{Binding MessageContent, Mode=TwoWay}" VerticalAlignment="Center" Margin="0,0,20,0" FontSize="12" Foreground="#FFA63F"/>
                        <Button x:Name="btnSave" IsEnabled="{Binding EditableStudyModel.IsValid, Mode=TwoWay}" 
                                Visibility="{Binding IsEditable, Mode=TwoWay, Converter={StaticResource BooleanToVisibilityConverter}}"
                                Content="{x:Static res:LanguageResource.Content_Save}"
                                Style="{StaticResource CommonButton}" Margin="0,0,10,0"
                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Click">
                                    <i:InvokeCommandAction Command="{Binding Commands[SaveCommand]}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </Button>
                        <Button x:Name="btnClear" Content="{x:Static res:LanguageResource.Content_Cancel}" Margin="0,0,10,0"
                                Style="{StaticResource CommonButton}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Click">
                                    <i:InvokeCommandAction Command="{Binding Commands[CloseCommand]}" CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </Button>
                    </WrapPanel>
                    <!--  底部 保存和清除 按钮 Begin -->
                </Grid>
                <Grid Grid.Row="10" Margin="10,0,10,0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="400"/>
                            <ColumnDefinition Width="20"/>
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <TextBlock x:Name="lblCorrectionHistory" Grid.Column="0" Margin="10,0,0,0" Text="{x:Static res:LanguageResource.Content_CorrectionHistory}"
                                   HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="14" Style="{StaticResource SectionTitleTextBlock}" />
                        <Rectangle Grid.Column="0" Width="{Binding ElementName=lblCorrectionHistory,Path=ActualWidth}"
                                   Style="{StaticResource SectionTitleUnderlineRectangle}" Margin="10,0,0,0"/>
                        <Rectangle Grid.Column="1" Fill="#FFA63F" Width="20" Height="12" HorizontalAlignment="Left"></Rectangle>
                        <TextBlock Grid.Column="2" Text="{x:Static res:LanguageResource.Content_OriginalRecord}" Foreground="#FFA63F" FontSize="12" Margin="6,0,0,0"/>

                    </Grid>
                </Grid>
                <Grid Grid.Row="11" Margin="10,0,10,0">
                    <!--  校正历史列表组件 DataGrid  -->
                    <DataGrid x:Name="dgCorrectionHistory" SelectionMode="Extended" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Margin="0,10,0,0" GridLinesVisibility="Vertical"
                              Style="{StaticResource CommonDataGrid}" 
                              ItemsSource="{Binding CorrectionHistoryStudies}" SelectedItem="{Binding SelectedStudyModel, Mode=TwoWay}">
                        <DataGrid.Columns>
                            <DataGridTemplateColumn Width="*">
                                <DataGridTemplateColumn.HeaderTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="20" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <TextBlock Grid.Column="1" Text="{x:Static res:LanguageResource.Header_Name}" Style="{StaticResource DataGridContentTextBlock}" Margin="2,0,0,0"/>
                                        </Grid>
                                    </DataTemplate>
                                </DataGridTemplateColumn.HeaderTemplate>
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="20" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Path Grid.Column="0" Width="20" Height="20" Style="{Binding OriginalRecordStyle, Mode=TwoWay}" HorizontalAlignment="Left"/>
                                            <TextBlock Grid.Column="1" Text="{Binding PatientName}" Style="{StaticResource DataGridContentTextBlock}" Margin="4,0,0,0" 
                                                       Foreground="{Binding IsOriginalRecord,Converter={StaticResource OriginalRecordConverter}}"/>
                                        </Grid>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Width="200" Header="{x:Static res:LanguageResource.Header_PatientId}">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding PatientId}" Style="{StaticResource DataGridContentTextBlock}" 
                                                   Foreground="{Binding IsOriginalRecord,Converter={StaticResource OriginalRecordConverter}}"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Width="150" Header="{x:Static res:LanguageResource.Header_Birthday}">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Birthday, StringFormat='yyyy/MM/dd'}" Style="{StaticResource DataGridContentTextBlock}"
                                                   Foreground="{Binding IsOriginalRecord,Converter={StaticResource OriginalRecordConverter}}"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Width="80"  Header="{x:Static res:LanguageResource.Header_Sex}">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding GenderString}" Style="{StaticResource DataGridContentTextBlock}" 
                                                   Foreground="{Binding IsOriginalRecord,Converter={StaticResource OriginalRecordConverter}}"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Width="120" Header="{x:Static res:LanguageResource.Header_Editor}">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Editor}" Style="{StaticResource DataGridContentTextBlock}" 
                                                   Foreground="{Binding IsOriginalRecord,Converter={StaticResource OriginalRecordConverter}}"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn Width="180" Header="{x:Static res:LanguageResource.Header_CorrectionTime}">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding CreateTime, StringFormat='yyyy/MM/dd HH:mm:ss'}" Style="{StaticResource DataGridContentTextBlock}"
                                                   Foreground="{Binding IsOriginalRecord,Converter={StaticResource OriginalRecordConverter}}"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </Grid>
        </Grid>
    </Border>
</Window>
