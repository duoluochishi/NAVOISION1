<UserControl
    x:Class="NV.CT.ProtocolManagement.Views.English.ProtocolParameterControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:local="clr-namespace:NV.CT.UI.Controls.Behavior;assembly=NV.CT.UI.Controls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:res="clr-namespace:NV.CT.Language;assembly=NV.CT.Language"
    d:DesignHeight="950"
    d:DesignWidth="1450"
    Visibility="{Binding ProtocolPageVisibility}"
    mc:Ignorable="d">
    <UserControl.Resources>
        <Style x:Key="GridStyle" TargetType="{x:Type Grid}">
            <Style.Triggers>
                <Trigger Property="IsEnabled" Value="True">
                    <Setter Property="Visibility" Value="Visible" />
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Visibility" Value="Collapsed" />
                </Trigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>
    <AdornerDecorator>
        <Grid
            Name="protocolgrid"
            IsEnabled="{Binding IsEnable}"
            Style="{StaticResource GridStyle}">
            <Border
                Background="#14142B"
                BorderBrush="#5A5A89"
                BorderThickness="1,1,1,1"
                CornerRadius="10,10,10,10">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="0" />
                        <RowDefinition Height="0" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="10" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="0" />
                        <ColumnDefinition />
                        <ColumnDefinition Width="0" />
                    </Grid.ColumnDefinitions>
                    <Grid
                        Name="grdForm"
                        Grid.Row="2"
                        Grid.Column="1"
                        IsEnabled="{Binding ProtocolIsEnabled, UpdateSourceTrigger=PropertyChanged}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100" />
                            <ColumnDefinition Width="135" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="100" />
                            <ColumnDefinition Width="100" />
                            <ColumnDefinition Width="135" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="100" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="60" />
                            <RowDefinition Height="60" />
                            <RowDefinition Height="60" />
                            <RowDefinition Height="60" />
                            <RowDefinition Height="60" />
                            <RowDefinition Height="60" />
                            <RowDefinition Height="60" />
                            <RowDefinition Height="60" />
                            <RowDefinition Height="60" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Grid.BindingGroup>
                            <BindingGroup x:Name="bg" />
                        </Grid.BindingGroup>
                        <Grid
                            Grid.Row="1"
                            Grid.Column="1"
                            Grid.ColumnSpan="3">
                            <Label
                                x:Name="lblTitle"
                                Grid.ColumnSpan="2"
                                Height="34"
                                Margin="0,0,0,0"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Top"
                                Content="{x:Static res:LanguageResource.Content_ProtocolParameters}"
                                FontSize="15"
                                FontWeight="Bold"
                                Foreground="#FFC6C6EC" />
                            <Rectangle
                                Grid.Column="0"
                                Width="{Binding ElementName=lblTitle, Path=ActualWidth}"
                                Height="3"
                                Margin="0,5,0,10"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                SnapsToDevicePixels="True"
                                Stroke="#3044D9"
                                StrokeThickness="3" />
                        </Grid>
                        <Label
                            Grid.Row="2"
                            Grid.Column="1"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Content="{x:Static res:LanguageResource.Content_ProtocolName}" />
                        <TextBox
                            x:Name="txtProtocolName"
                            Grid.Row="2"
                            Grid.Column="2"
                            Height="30"
                            MaxLength="64"
                            Text="{Binding ProtocolParameter.ProtocolName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                            <i:Interaction.Behaviors>
                                <local:RestrictedInputBehavior />
                            </i:Interaction.Behaviors>
                        </TextBox>
                        <Label
                            Grid.Row="2"
                            Grid.Column="5"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Content="{x:Static res:LanguageResource.Content_BodySize}" />
                        <ComboBox
                            Name="cbbBodySize"
                            Grid.Row="2"
                            Grid.Column="6"
                            Height="30"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center"
                            DisplayMemberPath="Value"
                            IsEnabled="False"
                            ItemsSource="{Binding BodySizeList, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            SelectedItem="{Binding Path=SelectedBodySize, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            SelectedValuePath="Key" />
                        <Label
                            Grid.Row="3"
                            Grid.Column="1"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Content="{x:Static res:LanguageResource.Content_PatientPosition}" />
                        <ComboBox
                            Grid.Row="3"
                            Grid.Column="2"
                            Height="30"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center"
                            DisplayMemberPath="Value"
                            ItemsSource="{Binding PatientPositionList, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            SelectedItem="{Binding Path=SelectedPatientPosition, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            SelectedValuePath="Key" />
                        <Label
                            Grid.Row="3"
                            Grid.Column="5"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Content="{x:Static res:LanguageResource.Content_ProtocolFamily}" />
                        <TextBox
                            Grid.Row="3"
                            Grid.Column="6"
                            Height="30"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center"
                            MaxLength="20"
                            Text="{Binding ProtocolParameter.ProtocolFamily, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                        <Label
                            Grid.Row="4"
                            Grid.Column="1"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Content="{x:Static res:LanguageResource.Content_Emergency}" />
                        <CheckBox
                            Grid.Row="4"
                            Grid.Column="2"
                            Margin="0,20,0,20"
                            IsChecked="{Binding ProtocolParameter.IsEmergency, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=False, NotifyOnValidationError=False}" />
                        <Label
                            Grid.Row="5"
                            Grid.Column="1"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Content="{x:Static res:LanguageResource.Content_Valid}" />
                        <CheckBox
                            Grid.Row="5"
                            Grid.Column="2"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            IsChecked="{Binding ProtocolParameter.IsValid, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=False, NotifyOnValidationError=False}" />
                        <Label
                            Grid.Row="6"
                            Grid.Column="1"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Content="{x:Static res:LanguageResource.Content_Description}" />
                        <TextBox
                            x:Name="txtDescription"
                            Grid.Row="6"
                            Grid.RowSpan="2"
                            Grid.Column="2"
                            Grid.ColumnSpan="5"
                            Height="90"
                            VerticalAlignment="Center"
                            VerticalContentAlignment="Top"
                            MaxLength="500"
                            Text="{Binding ProtocolParameter.Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            TextWrapping="Wrap"
                            VerticalScrollBarVisibility="Visible" />
                        <Button
                            x:Name="btn_Save"
                            Grid.Row="8"
                            Grid.RowSpan="2"
                            Grid.Column="6"
                            Width="120"
                            Height="40"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Command="{Binding Commands[SaveCommand]}"
                            Content="{x:Static res:LanguageResource.Content_Save}" />
                    </Grid>
                </Grid>
            </Border>
        </Grid>
    </AdornerDecorator>
</UserControl>
