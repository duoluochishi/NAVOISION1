<Window
	x:Class="NV.CT.ImageViewer.View.FilmWindow"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:res="clr-namespace:NV.CT.Language;assembly=NV.CT.Language"
	xmlns:sys="clr-namespace:System;assembly=mscorlib"
	Title="Film play"
	Width="300"
	Height="70"
	AllowsTransparency="False"
	Background="#FF171738"
	ResizeMode="NoResize"
	ShowInTaskbar="False"
	Topmost="True"
	WindowStyle="None"
	mc:Ignorable="d">
	<Window.Resources>
		<ControlTemplate
			x:Key="ButtonControlTemplate"
			TargetType="Button">
			<Border
				Name="border"
				Background="{TemplateBinding Background}"
				BorderBrush="{TemplateBinding BorderBrush}"
				BorderThickness="{TemplateBinding BorderThickness}"
				Opacity="1">
				<ContentPresenter
					HorizontalAlignment="Center"
					VerticalAlignment="Center" />
			</Border>
			<!--<ControlTemplate.Triggers>
				<Trigger Property="IsMouseOver" Value="True">
					<Setter Property="Opacity" Value="0.8" />
				</Trigger>
			</ControlTemplate.Triggers>-->
		</ControlTemplate>
	</Window.Resources>
	<Border
		BorderBrush="#FF3A4173"
		BorderThickness="1"
		CornerRadius="6"
		Cursor="Hand">
		<Grid
			x:Name="grid"
			Background="Transparent">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="1*" />
				<ColumnDefinition Width="1*" />
				<ColumnDefinition Width="1*" />
                <ColumnDefinition Width="1*" />
                <ColumnDefinition Width="1*" />
                <ColumnDefinition Width="1*" />
				<ColumnDefinition Width="1*" />
				<ColumnDefinition Width="1*" />
			</Grid.ColumnDefinitions>
			<Grid.RowDefinitions>
				<RowDefinition Height="15" />
				<RowDefinition Height="40" />
				<RowDefinition Height="15" />
			</Grid.RowDefinitions>

			<Button
				Grid.Row="1"
				Grid.Column="0"
				BorderBrush="Transparent"
				Command="{Binding Commands[BeginFrame]}">
				<Button.Background>
					<ImageBrush
						ImageSource="pack://application:,,,/NV.CT.UI.Controls;component/Icons/FR_0.png"
						Stretch="Uniform" />
				</Button.Background>
			</Button>
            <Button
				Grid.Row="1"
				Grid.Column="1"
				BorderBrush="Transparent"
				Command="{Binding Commands[PrevFrame]}">
                <Button.Background>
                    <ImageBrush
						ImageSource="pack://application:,,,/NV.CT.UI.Controls;component/Icons/FR_Pre.png"
						Stretch="Uniform" />
                </Button.Background>
            </Button>
            <Button
				Grid.Row="1"
				Grid.Column="2"
				BorderBrush="Transparent"
				Command="{Binding Commands[Play]}"
				Cursor="Hand"
				Template="{StaticResource ButtonControlTemplate}">
				<Button.Background>
					<ImageBrush
						ImageSource="pack://application:,,,/NV.CT.UI.Controls;component/Icons/Play_0.png"
						Stretch="Uniform" />
				</Button.Background>
				<Button.Style>
					<Style
						BasedOn="{x:Null}"
						TargetType="Button">
						<Style.Triggers>
							<DataTrigger
								Binding="{Binding IsPlayVisible}"
								Value="False">
								<Setter Property="Visibility" Value="Collapsed" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding IsPlayVisible}"
								Value="True">
								<Setter Property="Visibility" Value="Visible" />
							</DataTrigger>
						</Style.Triggers>
					</Style>
				</Button.Style>
			</Button>

			<Button
				Grid.Row="1"
				Grid.Column="2"
				BorderBrush="Transparent"
				Command="{Binding Commands[Pause]}"
				Cursor="Hand"
				Template="{StaticResource ButtonControlTemplate}">
				<Button.Background>
					<ImageBrush
						ImageSource="pack://application:,,,/NV.CT.UI.Controls;component/Icons/Pause.png"
						Stretch="Uniform" />
				</Button.Background>
				<Button.Style>
					<Style
						BasedOn="{x:Null}"
						TargetType="Button">
						<Style.Triggers>
							<DataTrigger
								Binding="{Binding IsPauseVisible}"
								Value="False">
								<Setter Property="Visibility" Value="Collapsed" />
							</DataTrigger>
							<DataTrigger
								Binding="{Binding IsPauseVisible}"
								Value="True">
								<Setter Property="Visibility" Value="Visible" />
							</DataTrigger>
						</Style.Triggers>
					</Style>
				</Button.Style>
			</Button>
            <Button
				Grid.Row="1"
				Grid.Column="3"
				BorderBrush="Transparent"
				Command="{Binding Commands[NextFrame]}">
                <Button.Background>
                    <ImageBrush
						ImageSource="pack://application:,,,/NV.CT.UI.Controls;component/Icons/FF_Next.png"
						Stretch="Uniform" />
                </Button.Background>
            </Button>
			<Button
				Grid.Row="1"
				Grid.Column="4"
				BorderBrush="Transparent"
				Command="{Binding Commands[EndFrame]}">
				<Button.Background>
					<ImageBrush
						ImageSource="pack://application:,,,/NV.CT.UI.Controls;component/Icons/FF_0.png"
						Stretch="Uniform" />
				</Button.Background>
			</Button>

			<Grid
				Grid.Row="1"
				Grid.Column="5">
				<Grid.RowDefinitions>
					<RowDefinition />
					<RowDefinition />
				</Grid.RowDefinitions>

				<TextBlock
					Grid.Row="0"
					HorizontalAlignment="Center"
					VerticalAlignment="Center"
					Foreground="White"
					Text="FPS" />

				<TextBlock
					Grid.Row="1"
					HorizontalAlignment="Center"
					VerticalAlignment="Center"
					Text="{Binding FPS}" />
			</Grid>

			<Grid
				Grid.Row="1"
				Grid.Column="6">
				<Grid.RowDefinitions>
					<RowDefinition />
					<RowDefinition />
				</Grid.RowDefinitions>

				<Button
					Grid.Row="0"
					BorderBrush="Transparent"
					Command="{Binding Commands[AdjustFrameRate]}">
					<Button.Background>
						<ImageBrush
							ImageSource="pack://application:,,,/NV.CT.UI.Controls;component/Icons/SpeedUp_0.png"
							Stretch="Uniform" />
					</Button.Background>
					<Button.CommandParameter>
						<sys:Int32>1</sys:Int32>
					</Button.CommandParameter>
				</Button>

				<Button
					Grid.Row="1"
					BorderBrush="Transparent"
					Command="{Binding Commands[AdjustFrameRate]}">
					<Button.Background>
						<ImageBrush
							ImageSource="pack://application:,,,/NV.CT.UI.Controls;component/Icons/SpeedDown_0.png"
							Stretch="Uniform" />
					</Button.Background>
					<Button.CommandParameter>
						<sys:Int32>-1</sys:Int32>
					</Button.CommandParameter>
				</Button>
			</Grid>

			<Button
				Grid.Row="1"
				Grid.Column="7"
				BorderBrush="Transparent"
				Click="BtnClose_OnClick">
				<Button.Background>
					<ImageBrush
						ImageSource="pack://application:,,,/NV.CT.UI.Controls;component/Icons/close.png"
						Stretch="Uniform" />
				</Button.Background>
			</Button>
		</Grid>
	</Border>

</Window>
